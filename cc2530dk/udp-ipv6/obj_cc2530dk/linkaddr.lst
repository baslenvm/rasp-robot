                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.5.5 #9380 (Linux)
                                      4 ; This file was generated Wed Nov 18 02:57:36 2015
                                      5 ;--------------------------------------------------------
                                      6 	.module linkaddr
                                      7 	.optsdcc -mmcs51 --model-huge
                                      8 	
                                      9 ;--------------------------------------------------------
                                     10 ; Public variables in this module
                                     11 ;--------------------------------------------------------
                                     12 	.globl _linkaddr_null
                                     13 	.globl _memcmp
                                     14 	.globl _memcpy
                                     15 	.globl _linkaddr_node_addr
                                     16 	.globl _linkaddr_copy
                                     17 	.globl _linkaddr_cmp
                                     18 	.globl _linkaddr_set_node_addr
                                     19 ;--------------------------------------------------------
                                     20 ; special function registers
                                     21 ;--------------------------------------------------------
                                     22 	.area RSEG    (ABS,DATA)
      000000                         23 	.org 0x0000
                                     24 ;--------------------------------------------------------
                                     25 ; special function bits
                                     26 ;--------------------------------------------------------
                                     27 	.area RSEG    (ABS,DATA)
      000000                         28 	.org 0x0000
                                     29 ;--------------------------------------------------------
                                     30 ; overlayable register banks
                                     31 ;--------------------------------------------------------
                                     32 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         33 	.ds 8
                                     34 ;--------------------------------------------------------
                                     35 ; internal ram data
                                     36 ;--------------------------------------------------------
                                     37 	.area DSEG    (DATA)
                                     38 ;--------------------------------------------------------
                                     39 ; overlayable items in internal ram 
                                     40 ;--------------------------------------------------------
                                     41 ;--------------------------------------------------------
                                     42 ; indirectly addressable internal ram data
                                     43 ;--------------------------------------------------------
                                     44 	.area ISEG    (DATA)
                                     45 ;--------------------------------------------------------
                                     46 ; absolute internal ram data
                                     47 ;--------------------------------------------------------
                                     48 	.area IABS    (ABS,DATA)
                                     49 	.area IABS    (ABS,DATA)
                                     50 ;--------------------------------------------------------
                                     51 ; bit data
                                     52 ;--------------------------------------------------------
                                     53 	.area BSEG    (BIT)
                                     54 ;--------------------------------------------------------
                                     55 ; paged external ram data
                                     56 ;--------------------------------------------------------
                                     57 	.area PSEG    (PAG,XDATA)
                                     58 ;--------------------------------------------------------
                                     59 ; external ram data
                                     60 ;--------------------------------------------------------
                                     61 	.area XSEG    (XDATA)
      000000                         62 _linkaddr_node_addr::
      000000                         63 	.ds 8
                                     64 ;--------------------------------------------------------
                                     65 ; absolute external ram data
                                     66 ;--------------------------------------------------------
                                     67 	.area XABS    (ABS,XDATA)
                                     68 ;--------------------------------------------------------
                                     69 ; external initialized ram data
                                     70 ;--------------------------------------------------------
                                     71 	.area XISEG   (XDATA)
                                     72 	.area HOME    (CODE)
                                     73 	.area GSINIT0 (CODE)
                                     74 	.area GSINIT1 (CODE)
                                     75 	.area GSINIT2 (CODE)
                                     76 	.area GSINIT3 (CODE)
                                     77 	.area GSINIT4 (CODE)
                                     78 	.area GSINIT5 (CODE)
                                     79 	.area GSINIT  (CODE)
                                     80 	.area GSFINAL (CODE)
                                     81 	.area CSEG    (CODE)
                                     82 ;--------------------------------------------------------
                                     83 ; global & static initialisations
                                     84 ;--------------------------------------------------------
                                     85 	.area HOME    (CODE)
                                     86 	.area GSINIT  (CODE)
                                     87 	.area GSFINAL (CODE)
                                     88 	.area GSINIT  (CODE)
                                     89 ;--------------------------------------------------------
                                     90 ; Home
                                     91 ;--------------------------------------------------------
                                     92 	.area HOME    (CODE)
                                     93 	.area HOME    (CODE)
                                     94 ;--------------------------------------------------------
                                     95 ; code
                                     96 ;--------------------------------------------------------
                                     97 	.area BANK1   (CODE)
                                     98 ;------------------------------------------------------------
                                     99 ;Allocation info for local variables in function 'linkaddr_copy'
                                    100 ;------------------------------------------------------------
                                    101 ;src                       Allocated to stack - sp -5
                                    102 ;dest                      Allocated to registers r5 r6 r7 
                                    103 ;------------------------------------------------------------
                                    104 ;	/opt/contiki/core/net/linkaddr.c:60: linkaddr_copy(linkaddr_t *dest, const linkaddr_t *src)
                                    105 ;	-----------------------------------------
                                    106 ;	 function linkaddr_copy
                                    107 ;	-----------------------------------------
      000000                        108 _linkaddr_copy:
                           000007   109 	ar7 = 0x07
                           000006   110 	ar6 = 0x06
                           000005   111 	ar5 = 0x05
                           000004   112 	ar4 = 0x04
                           000003   113 	ar3 = 0x03
                           000002   114 	ar2 = 0x02
                           000001   115 	ar1 = 0x01
                           000000   116 	ar0 = 0x00
      000000 AD 82            [24]  117 	mov	r5,dpl
      000002 AE 83            [24]  118 	mov	r6,dph
      000004 AF F0            [24]  119 	mov	r7,b
                                    120 ;	/opt/contiki/core/net/linkaddr.c:62: memcpy(dest, src, LINKADDR_SIZE);
      000006 E5 81            [12]  121 	mov	a,sp
      000008 24 FB            [12]  122 	add	a,#0xfb
      00000A F8               [12]  123 	mov	r0,a
      00000B 86 02            [24]  124 	mov	ar2,@r0
      00000D 08               [12]  125 	inc	r0
      00000E 86 03            [24]  126 	mov	ar3,@r0
      000010 08               [12]  127 	inc	r0
      000011 86 04            [24]  128 	mov	ar4,@r0
      000013 74 08            [12]  129 	mov	a,#0x08
      000015 C0 E0            [24]  130 	push	acc
      000017 E4               [12]  131 	clr	a
      000018 C0 E0            [24]  132 	push	acc
      00001A C0 02            [24]  133 	push	ar2
      00001C C0 03            [24]  134 	push	ar3
      00001E C0 04            [24]  135 	push	ar4
      000020 8D 82            [24]  136 	mov	dpl,r5
      000022 8E 83            [24]  137 	mov	dph,r6
      000024 8F F0            [24]  138 	mov	b,r7
      000026 78r00            [12]  139 	mov	r0,#_memcpy
      000028 79s00            [12]  140 	mov	r1,#(_memcpy >> 8)
      00002A 7As00            [12]  141 	mov	r2,#(_memcpy >> 16)
      00002C 12r00r00         [24]  142 	lcall	__sdcc_banked_call
      00002F E5 81            [12]  143 	mov	a,sp
      000031 24 FB            [12]  144 	add	a,#0xfb
      000033 F5 81            [12]  145 	mov	sp,a
      000035 02r00r00         [24]  146 	ljmp	__sdcc_banked_ret
                                    147 ;------------------------------------------------------------
                                    148 ;Allocation info for local variables in function 'linkaddr_cmp'
                                    149 ;------------------------------------------------------------
                                    150 ;addr2                     Allocated to stack - sp -5
                                    151 ;addr1                     Allocated to registers r5 r6 r7 
                                    152 ;------------------------------------------------------------
                                    153 ;	/opt/contiki/core/net/linkaddr.c:66: linkaddr_cmp(const linkaddr_t *addr1, const linkaddr_t *addr2)
                                    154 ;	-----------------------------------------
                                    155 ;	 function linkaddr_cmp
                                    156 ;	-----------------------------------------
      000038                        157 _linkaddr_cmp:
      000038 AD 82            [24]  158 	mov	r5,dpl
      00003A AE 83            [24]  159 	mov	r6,dph
      00003C AF F0            [24]  160 	mov	r7,b
                                    161 ;	/opt/contiki/core/net/linkaddr.c:68: return (memcmp(addr1, addr2, LINKADDR_SIZE) == 0);
      00003E E5 81            [12]  162 	mov	a,sp
      000040 24 FB            [12]  163 	add	a,#0xfb
      000042 F8               [12]  164 	mov	r0,a
      000043 86 02            [24]  165 	mov	ar2,@r0
      000045 08               [12]  166 	inc	r0
      000046 86 03            [24]  167 	mov	ar3,@r0
      000048 08               [12]  168 	inc	r0
      000049 86 04            [24]  169 	mov	ar4,@r0
      00004B 74 08            [12]  170 	mov	a,#0x08
      00004D C0 E0            [24]  171 	push	acc
      00004F E4               [12]  172 	clr	a
      000050 C0 E0            [24]  173 	push	acc
      000052 C0 02            [24]  174 	push	ar2
      000054 C0 03            [24]  175 	push	ar3
      000056 C0 04            [24]  176 	push	ar4
      000058 8D 82            [24]  177 	mov	dpl,r5
      00005A 8E 83            [24]  178 	mov	dph,r6
      00005C 8F F0            [24]  179 	mov	b,r7
      00005E 78r00            [12]  180 	mov	r0,#_memcmp
      000060 79s00            [12]  181 	mov	r1,#(_memcmp >> 8)
      000062 7As00            [12]  182 	mov	r2,#(_memcmp >> 16)
      000064 12r00r00         [24]  183 	lcall	__sdcc_banked_call
      000067 AE 82            [24]  184 	mov	r6,dpl
      000069 AF 83            [24]  185 	mov	r7,dph
      00006B E5 81            [12]  186 	mov	a,sp
      00006D 24 FB            [12]  187 	add	a,#0xfb
      00006F F5 81            [12]  188 	mov	sp,a
      000071 E4               [12]  189 	clr	a
      000072 BE 00 04         [24]  190 	cjne	r6,#0x00,00103$
      000075 BF 00 01         [24]  191 	cjne	r7,#0x00,00103$
      000078 04               [12]  192 	inc	a
      000079                        193 00103$:
      000079 FE               [12]  194 	mov	r6,a
      00007A 33               [12]  195 	rlc	a
      00007B 95 E0            [12]  196 	subb	a,acc
      00007D FF               [12]  197 	mov	r7,a
      00007E 8E 82            [24]  198 	mov	dpl,r6
      000080 8F 83            [24]  199 	mov	dph,r7
      000082 02r00r00         [24]  200 	ljmp	__sdcc_banked_ret
                                    201 ;------------------------------------------------------------
                                    202 ;Allocation info for local variables in function 'linkaddr_set_node_addr'
                                    203 ;------------------------------------------------------------
                                    204 ;t                         Allocated to registers r5 r6 r7 
                                    205 ;------------------------------------------------------------
                                    206 ;	/opt/contiki/core/net/linkaddr.c:72: linkaddr_set_node_addr(linkaddr_t *t)
                                    207 ;	-----------------------------------------
                                    208 ;	 function linkaddr_set_node_addr
                                    209 ;	-----------------------------------------
      000085                        210 _linkaddr_set_node_addr:
      000085 AD 82            [24]  211 	mov	r5,dpl
      000087 AE 83            [24]  212 	mov	r6,dph
      000089 AF F0            [24]  213 	mov	r7,b
                                    214 ;	/opt/contiki/core/net/linkaddr.c:74: linkaddr_copy(&linkaddr_node_addr, t);
      00008B C0 05            [24]  215 	push	ar5
      00008D C0 06            [24]  216 	push	ar6
      00008F C0 07            [24]  217 	push	ar7
      000091 90r00r00         [24]  218 	mov	dptr,#_linkaddr_node_addr
      000094 75 F0 00         [24]  219 	mov	b,#0x00
      000097 78r00            [12]  220 	mov	r0,#_linkaddr_copy
      000099 79s00            [12]  221 	mov	r1,#(_linkaddr_copy >> 8)
      00009B 7As00            [12]  222 	mov	r2,#(_linkaddr_copy >> 16)
      00009D 12r00r00         [24]  223 	lcall	__sdcc_banked_call
      0000A0 15 81            [12]  224 	dec	sp
      0000A2 15 81            [12]  225 	dec	sp
      0000A4 15 81            [12]  226 	dec	sp
      0000A6 02r00r00         [24]  227 	ljmp	__sdcc_banked_ret
                                    228 	.area CSEG    (CODE)
                                    229 	.area CONST   (CODE)
      000000                        230 _linkaddr_null:
      000000 00                     231 	.db #0x00	; 0
      000001 00                     232 	.db #0x00	; 0
      000002 00                     233 	.db #0x00	; 0
      000003 00                     234 	.db #0x00	; 0
      000004 00                     235 	.db #0x00	; 0
      000005 00                     236 	.db #0x00	; 0
      000006 00                     237 	.db #0x00	; 0
      000007 00                     238 	.db #0x00	; 0
                                    239 	.area XINIT   (CODE)
                                    240 	.area CABS    (ABS,CODE)
