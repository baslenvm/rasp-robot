                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.5.5 #9380 (Linux)
                                      4 ; This file was generated Wed Nov 18 02:57:27 2015
                                      5 ;--------------------------------------------------------
                                      6 	.module mmem
                                      7 	.optsdcc -mmcs51 --model-huge
                                      8 	
                                      9 ;--------------------------------------------------------
                                     10 ; Public variables in this module
                                     11 ;--------------------------------------------------------
                                     12 	.globl _memmove
                                     13 	.globl _list_remove
                                     14 	.globl _list_add
                                     15 	.globl _list_init
                                     16 	.globl _avail_memory
                                     17 	.globl _mmem_alloc
                                     18 	.globl _mmem_free
                                     19 	.globl _mmem_init
                                     20 ;--------------------------------------------------------
                                     21 ; special function registers
                                     22 ;--------------------------------------------------------
                                     23 	.area RSEG    (ABS,DATA)
      000000                         24 	.org 0x0000
                                     25 ;--------------------------------------------------------
                                     26 ; special function bits
                                     27 ;--------------------------------------------------------
                                     28 	.area RSEG    (ABS,DATA)
      000000                         29 	.org 0x0000
                                     30 ;--------------------------------------------------------
                                     31 ; overlayable register banks
                                     32 ;--------------------------------------------------------
                                     33 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         34 	.ds 8
                                     35 ;--------------------------------------------------------
                                     36 ; internal ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area DSEG    (DATA)
                                     39 ;--------------------------------------------------------
                                     40 ; overlayable items in internal ram 
                                     41 ;--------------------------------------------------------
                                     42 ;--------------------------------------------------------
                                     43 ; indirectly addressable internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area ISEG    (DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; absolute internal ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area IABS    (ABS,DATA)
                                     50 	.area IABS    (ABS,DATA)
                                     51 ;--------------------------------------------------------
                                     52 ; bit data
                                     53 ;--------------------------------------------------------
                                     54 	.area BSEG    (BIT)
                                     55 ;--------------------------------------------------------
                                     56 ; paged external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area PSEG    (PAG,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
      000000                         63 _avail_memory::
      000000                         64 	.ds 2
      000002                         65 _memory:
      000002                         66 	.ds 4096
      001002                         67 _mmem_init_inited_1_44:
      001002                         68 	.ds 2
                                     69 ;--------------------------------------------------------
                                     70 ; absolute external ram data
                                     71 ;--------------------------------------------------------
                                     72 	.area XABS    (ABS,XDATA)
                                     73 ;--------------------------------------------------------
                                     74 ; external initialized ram data
                                     75 ;--------------------------------------------------------
                                     76 	.area XISEG   (XDATA)
      000000                         77 _mmemlist_list:
      000000                         78 	.ds 3
      000003                         79 _mmemlist:
      000003                         80 	.ds 3
                                     81 	.area HOME    (CODE)
                                     82 	.area GSINIT0 (CODE)
                                     83 	.area GSINIT1 (CODE)
                                     84 	.area GSINIT2 (CODE)
                                     85 	.area GSINIT3 (CODE)
                                     86 	.area GSINIT4 (CODE)
                                     87 	.area GSINIT5 (CODE)
                                     88 	.area GSINIT  (CODE)
                                     89 	.area GSFINAL (CODE)
                                     90 	.area CSEG    (CODE)
                                     91 ;--------------------------------------------------------
                                     92 ; global & static initialisations
                                     93 ;--------------------------------------------------------
                                     94 	.area HOME    (CODE)
                                     95 	.area GSINIT  (CODE)
                                     96 	.area GSFINAL (CODE)
                                     97 	.area GSINIT  (CODE)
                                     98 ;------------------------------------------------------------
                                     99 ;Allocation info for local variables in function 'mmem_init'
                                    100 ;------------------------------------------------------------
                                    101 ;inited                    Allocated with name '_mmem_init_inited_1_44'
                                    102 ;------------------------------------------------------------
                                    103 ;	/opt/contiki/core/lib/mmem.c:154: static int inited = 0;
      000000 90r10r02         [24]  104 	mov	dptr,#_mmem_init_inited_1_44
      000003 E4               [12]  105 	clr	a
      000004 F0               [24]  106 	movx	@dptr,a
      000005 A3               [24]  107 	inc	dptr
      000006 F0               [24]  108 	movx	@dptr,a
                                    109 ;--------------------------------------------------------
                                    110 ; Home
                                    111 ;--------------------------------------------------------
                                    112 	.area HOME    (CODE)
                                    113 	.area HOME    (CODE)
                                    114 ;--------------------------------------------------------
                                    115 ; code
                                    116 ;--------------------------------------------------------
                                    117 	.area BANK1   (CODE)
                                    118 ;------------------------------------------------------------
                                    119 ;Allocation info for local variables in function 'mmem_alloc'
                                    120 ;------------------------------------------------------------
                                    121 ;size                      Allocated to stack - sp -7
                                    122 ;m                         Allocated to stack - sp -2
                                    123 ;------------------------------------------------------------
                                    124 ;	/opt/contiki/core/lib/mmem.c:83: mmem_alloc(struct mmem *m, unsigned int size)
                                    125 ;	-----------------------------------------
                                    126 ;	 function mmem_alloc
                                    127 ;	-----------------------------------------
      000000                        128 _mmem_alloc:
                           000007   129 	ar7 = 0x07
                           000006   130 	ar6 = 0x06
                           000005   131 	ar5 = 0x05
                           000004   132 	ar4 = 0x04
                           000003   133 	ar3 = 0x03
                           000002   134 	ar2 = 0x02
                           000001   135 	ar1 = 0x01
                           000000   136 	ar0 = 0x00
      000000 C0 82            [24]  137 	push	dpl
      000002 C0 83            [24]  138 	push	dph
      000004 C0 F0            [24]  139 	push	b
                                    140 ;	/opt/contiki/core/lib/mmem.c:86: if(avail_memory < size) {
      000006 90r00r00         [24]  141 	mov	dptr,#_avail_memory
      000009 E0               [24]  142 	movx	a,@dptr
      00000A FB               [12]  143 	mov	r3,a
      00000B A3               [24]  144 	inc	dptr
      00000C E0               [24]  145 	movx	a,@dptr
      00000D FC               [12]  146 	mov	r4,a
      00000E E5 81            [12]  147 	mov	a,sp
      000010 24 F9            [12]  148 	add	a,#0xf9
      000012 F8               [12]  149 	mov	r0,a
      000013 C3               [12]  150 	clr	c
      000014 EB               [12]  151 	mov	a,r3
      000015 96               [12]  152 	subb	a,@r0
      000016 EC               [12]  153 	mov	a,r4
      000017 08               [12]  154 	inc	r0
      000018 96               [12]  155 	subb	a,@r0
      000019 50 06            [24]  156 	jnc	00102$
                                    157 ;	/opt/contiki/core/lib/mmem.c:87: return 0;
      00001B 90 00 00         [24]  158 	mov	dptr,#0x0000
      00001E 02r00rD0         [24]  159 	ljmp	00103$
      000021                        160 00102$:
                                    161 ;	/opt/contiki/core/lib/mmem.c:92: list_add(mmemlist, m);
      000021 A8 81            [24]  162 	mov	r0,sp
      000023 18               [12]  163 	dec	r0
      000024 18               [12]  164 	dec	r0
      000025 86 02            [24]  165 	mov	ar2,@r0
      000027 08               [12]  166 	inc	r0
      000028 86 03            [24]  167 	mov	ar3,@r0
      00002A 08               [12]  168 	inc	r0
      00002B 86 04            [24]  169 	mov	ar4,@r0
      00002D 90r00r03         [24]  170 	mov	dptr,#_mmemlist
      000030 E0               [24]  171 	movx	a,@dptr
      000031 FD               [12]  172 	mov	r5,a
      000032 A3               [24]  173 	inc	dptr
      000033 E0               [24]  174 	movx	a,@dptr
      000034 FE               [12]  175 	mov	r6,a
      000035 A3               [24]  176 	inc	dptr
      000036 E0               [24]  177 	movx	a,@dptr
      000037 FF               [12]  178 	mov	r7,a
      000038 C0 02            [24]  179 	push	ar2
      00003A C0 03            [24]  180 	push	ar3
      00003C C0 04            [24]  181 	push	ar4
      00003E 8D 82            [24]  182 	mov	dpl,r5
      000040 8E 83            [24]  183 	mov	dph,r6
      000042 8F F0            [24]  184 	mov	b,r7
      000044 78r00            [12]  185 	mov	r0,#_list_add
      000046 79s00            [12]  186 	mov	r1,#(_list_add >> 8)
      000048 7As00            [12]  187 	mov	r2,#(_list_add >> 16)
      00004A 12r00r00         [24]  188 	lcall	__sdcc_banked_call
      00004D 15 81            [12]  189 	dec	sp
      00004F 15 81            [12]  190 	dec	sp
      000051 15 81            [12]  191 	dec	sp
                                    192 ;	/opt/contiki/core/lib/mmem.c:96: m->ptr = &memory[MMEM_SIZE - avail_memory];
      000053 A8 81            [24]  193 	mov	r0,sp
      000055 18               [12]  194 	dec	r0
      000056 18               [12]  195 	dec	r0
      000057 74 05            [12]  196 	mov	a,#0x05
      000059 26               [12]  197 	add	a,@r0
      00005A FD               [12]  198 	mov	r5,a
      00005B E4               [12]  199 	clr	a
      00005C 08               [12]  200 	inc	r0
      00005D 36               [12]  201 	addc	a,@r0
      00005E FE               [12]  202 	mov	r6,a
      00005F 08               [12]  203 	inc	r0
      000060 86 07            [24]  204 	mov	ar7,@r0
      000062 90r00r00         [24]  205 	mov	dptr,#_avail_memory
      000065 E0               [24]  206 	movx	a,@dptr
      000066 FB               [12]  207 	mov	r3,a
      000067 A3               [24]  208 	inc	dptr
      000068 E0               [24]  209 	movx	a,@dptr
      000069 FC               [12]  210 	mov	r4,a
      00006A E4               [12]  211 	clr	a
      00006B C3               [12]  212 	clr	c
      00006C 9B               [12]  213 	subb	a,r3
      00006D FB               [12]  214 	mov	r3,a
      00006E 74 10            [12]  215 	mov	a,#0x10
      000070 9C               [12]  216 	subb	a,r4
      000071 FC               [12]  217 	mov	r4,a
      000072 EB               [12]  218 	mov	a,r3
      000073 24r02            [12]  219 	add	a,#_memory
      000075 FB               [12]  220 	mov	r3,a
      000076 EC               [12]  221 	mov	a,r4
      000077 34s00            [12]  222 	addc	a,#(_memory >> 8)
      000079 FC               [12]  223 	mov	r4,a
      00007A 7A 00            [12]  224 	mov	r2,#0x00
      00007C 8D 82            [24]  225 	mov	dpl,r5
      00007E 8E 83            [24]  226 	mov	dph,r6
      000080 8F F0            [24]  227 	mov	b,r7
      000082 EB               [12]  228 	mov	a,r3
      000083 12r00r00         [24]  229 	lcall	__gptrput
      000086 A3               [24]  230 	inc	dptr
      000087 EC               [12]  231 	mov	a,r4
      000088 12r00r00         [24]  232 	lcall	__gptrput
      00008B A3               [24]  233 	inc	dptr
      00008C EA               [12]  234 	mov	a,r2
      00008D 12r00r00         [24]  235 	lcall	__gptrput
                                    236 ;	/opt/contiki/core/lib/mmem.c:99: m->size = size;
      000090 A8 81            [24]  237 	mov	r0,sp
      000092 18               [12]  238 	dec	r0
      000093 18               [12]  239 	dec	r0
      000094 74 03            [12]  240 	mov	a,#0x03
      000096 26               [12]  241 	add	a,@r0
      000097 FD               [12]  242 	mov	r5,a
      000098 E4               [12]  243 	clr	a
      000099 08               [12]  244 	inc	r0
      00009A 36               [12]  245 	addc	a,@r0
      00009B FE               [12]  246 	mov	r6,a
      00009C 08               [12]  247 	inc	r0
      00009D 86 07            [24]  248 	mov	ar7,@r0
      00009F 8D 82            [24]  249 	mov	dpl,r5
      0000A1 8E 83            [24]  250 	mov	dph,r6
      0000A3 8F F0            [24]  251 	mov	b,r7
      0000A5 E5 81            [12]  252 	mov	a,sp
      0000A7 24 F9            [12]  253 	add	a,#0xf9
      0000A9 F8               [12]  254 	mov	r0,a
      0000AA E6               [12]  255 	mov	a,@r0
      0000AB 12r00r00         [24]  256 	lcall	__gptrput
      0000AE A3               [24]  257 	inc	dptr
      0000AF 08               [12]  258 	inc	r0
      0000B0 E6               [12]  259 	mov	a,@r0
      0000B1 12r00r00         [24]  260 	lcall	__gptrput
                                    261 ;	/opt/contiki/core/lib/mmem.c:102: avail_memory -= size;
      0000B4 90r00r00         [24]  262 	mov	dptr,#_avail_memory
      0000B7 E0               [24]  263 	movx	a,@dptr
      0000B8 FE               [12]  264 	mov	r6,a
      0000B9 A3               [24]  265 	inc	dptr
      0000BA E0               [24]  266 	movx	a,@dptr
      0000BB FF               [12]  267 	mov	r7,a
      0000BC E5 81            [12]  268 	mov	a,sp
      0000BE 24 F9            [12]  269 	add	a,#0xf9
      0000C0 F8               [12]  270 	mov	r0,a
      0000C1 90r00r00         [24]  271 	mov	dptr,#_avail_memory
      0000C4 EE               [12]  272 	mov	a,r6
      0000C5 C3               [12]  273 	clr	c
      0000C6 96               [12]  274 	subb	a,@r0
      0000C7 F0               [24]  275 	movx	@dptr,a
      0000C8 EF               [12]  276 	mov	a,r7
      0000C9 08               [12]  277 	inc	r0
      0000CA 96               [12]  278 	subb	a,@r0
      0000CB A3               [24]  279 	inc	dptr
      0000CC F0               [24]  280 	movx	@dptr,a
                                    281 ;	/opt/contiki/core/lib/mmem.c:106: return 1;
      0000CD 90 00 01         [24]  282 	mov	dptr,#0x0001
      0000D0                        283 00103$:
      0000D0 15 81            [12]  284 	dec	sp
      0000D2 15 81            [12]  285 	dec	sp
      0000D4 15 81            [12]  286 	dec	sp
      0000D6 02r00r00         [24]  287 	ljmp	__sdcc_banked_ret
                                    288 ;------------------------------------------------------------
                                    289 ;Allocation info for local variables in function 'mmem_free'
                                    290 ;------------------------------------------------------------
                                    291 ;m                         Allocated to stack - sp -13
                                    292 ;n                         Allocated to stack - sp -2
                                    293 ;sloc0                     Allocated to stack - sp -10
                                    294 ;sloc1                     Allocated to stack - sp -8
                                    295 ;sloc2                     Allocated to stack - sp -5
                                    296 ;------------------------------------------------------------
                                    297 ;	/opt/contiki/core/lib/mmem.c:119: mmem_free(struct mmem *m)
                                    298 ;	-----------------------------------------
                                    299 ;	 function mmem_free
                                    300 ;	-----------------------------------------
      0000D9                        301 _mmem_free:
      0000D9 C0 82            [24]  302 	push	dpl
      0000DB C0 83            [24]  303 	push	dph
      0000DD C0 F0            [24]  304 	push	b
      0000DF E5 81            [12]  305 	mov	a,sp
      0000E1 24 0B            [12]  306 	add	a,#0x0B
                                    307 ;	/opt/contiki/core/lib/mmem.c:123: if(m->next != NULL) {
      0000E3 F5 81            [12]  308 	mov	sp,a
      0000E5 24 F3            [12]  309 	add	a,#0xf3
      0000E7 F8               [12]  310 	mov	r0,a
      0000E8 86 82            [24]  311 	mov	dpl,@r0
      0000EA 08               [12]  312 	inc	r0
      0000EB 86 83            [24]  313 	mov	dph,@r0
      0000ED 08               [12]  314 	inc	r0
      0000EE 86 F0            [24]  315 	mov	b,@r0
      0000F0 12r00r00         [24]  316 	lcall	__gptrget
      0000F3 FA               [12]  317 	mov	r2,a
      0000F4 A3               [24]  318 	inc	dptr
      0000F5 12r00r00         [24]  319 	lcall	__gptrget
      0000F8 FB               [12]  320 	mov	r3,a
      0000F9 A3               [24]  321 	inc	dptr
      0000FA 12r00r00         [24]  322 	lcall	__gptrget
      0000FD FC               [12]  323 	mov	r4,a
      0000FE EA               [12]  324 	mov	a,r2
      0000FF 4B               [12]  325 	orl	a,r3
      000100 70 03            [24]  326 	jnz	00118$
      000102 02r02r7E         [24]  327 	ljmp	00103$
      000105                        328 00118$:
                                    329 ;	/opt/contiki/core/lib/mmem.c:127: &memory[MMEM_SIZE - avail_memory] - (char *)m->next->ptr);
      000105 90r00r00         [24]  330 	mov	dptr,#_avail_memory
      000108 E0               [24]  331 	movx	a,@dptr
      000109 FE               [12]  332 	mov	r6,a
      00010A A3               [24]  333 	inc	dptr
      00010B E0               [24]  334 	movx	a,@dptr
      00010C FF               [12]  335 	mov	r7,a
      00010D E4               [12]  336 	clr	a
      00010E C3               [12]  337 	clr	c
      00010F 9E               [12]  338 	subb	a,r6
      000110 FE               [12]  339 	mov	r6,a
      000111 74 10            [12]  340 	mov	a,#0x10
      000113 9F               [12]  341 	subb	a,r7
      000114 FF               [12]  342 	mov	r7,a
      000115 E5 81            [12]  343 	mov	a,sp
      000117 24 F6            [12]  344 	add	a,#0xf6
      000119 F8               [12]  345 	mov	r0,a
      00011A EE               [12]  346 	mov	a,r6
      00011B 24r02            [12]  347 	add	a,#_memory
      00011D F6               [12]  348 	mov	@r0,a
      00011E EF               [12]  349 	mov	a,r7
      00011F 34s00            [12]  350 	addc	a,#(_memory >> 8)
      000121 08               [12]  351 	inc	r0
      000122 F6               [12]  352 	mov	@r0,a
      000123 74 05            [12]  353 	mov	a,#0x05
      000125 2A               [12]  354 	add	a,r2
      000126 FA               [12]  355 	mov	r2,a
      000127 E4               [12]  356 	clr	a
      000128 3B               [12]  357 	addc	a,r3
      000129 FB               [12]  358 	mov	r3,a
      00012A 8A 82            [24]  359 	mov	dpl,r2
      00012C 8B 83            [24]  360 	mov	dph,r3
      00012E 8C F0            [24]  361 	mov	b,r4
      000130 12r00r00         [24]  362 	lcall	__gptrget
      000133 FA               [12]  363 	mov	r2,a
      000134 A3               [24]  364 	inc	dptr
      000135 12r00r00         [24]  365 	lcall	__gptrget
      000138 FB               [12]  366 	mov	r3,a
      000139 A3               [24]  367 	inc	dptr
      00013A 12r00r00         [24]  368 	lcall	__gptrget
      00013D FC               [12]  369 	mov	r4,a
      00013E 8A 05            [24]  370 	mov	ar5,r2
      000140 8B 06            [24]  371 	mov	ar6,r3
      000142 8C 07            [24]  372 	mov	ar7,r4
      000144 E5 81            [12]  373 	mov	a,sp
      000146 24 F6            [12]  374 	add	a,#0xf6
      000148 F8               [12]  375 	mov	r0,a
      000149 E6               [12]  376 	mov	a,@r0
      00014A C3               [12]  377 	clr	c
      00014B 9D               [12]  378 	subb	a,r5
      00014C F6               [12]  379 	mov	@r0,a
      00014D 08               [12]  380 	inc	r0
      00014E E6               [12]  381 	mov	a,@r0
      00014F 9E               [12]  382 	subb	a,r6
      000150 F6               [12]  383 	mov	@r0,a
                                    384 ;	/opt/contiki/core/lib/mmem.c:126: memmove(m->ptr, m->next->ptr,
      000151 E5 81            [12]  385 	mov	a,sp
      000153 24 F3            [12]  386 	add	a,#0xf3
      000155 F8               [12]  387 	mov	r0,a
      000156 74 05            [12]  388 	mov	a,#0x05
      000158 26               [12]  389 	add	a,@r0
      000159 FD               [12]  390 	mov	r5,a
      00015A E4               [12]  391 	clr	a
      00015B 08               [12]  392 	inc	r0
      00015C 36               [12]  393 	addc	a,@r0
      00015D FE               [12]  394 	mov	r6,a
      00015E 08               [12]  395 	inc	r0
      00015F 86 07            [24]  396 	mov	ar7,@r0
      000161 8D 82            [24]  397 	mov	dpl,r5
      000163 8E 83            [24]  398 	mov	dph,r6
      000165 8F F0            [24]  399 	mov	b,r7
      000167 12r00r00         [24]  400 	lcall	__gptrget
      00016A FD               [12]  401 	mov	r5,a
      00016B A3               [24]  402 	inc	dptr
      00016C 12r00r00         [24]  403 	lcall	__gptrget
      00016F FE               [12]  404 	mov	r6,a
      000170 A3               [24]  405 	inc	dptr
      000171 12r00r00         [24]  406 	lcall	__gptrget
      000174 FF               [12]  407 	mov	r7,a
      000175 E5 81            [12]  408 	mov	a,sp
      000177 24 F6            [12]  409 	add	a,#0xf6
      000179 F8               [12]  410 	mov	r0,a
      00017A E6               [12]  411 	mov	a,@r0
      00017B C0 E0            [24]  412 	push	acc
      00017D 08               [12]  413 	inc	r0
      00017E E6               [12]  414 	mov	a,@r0
      00017F C0 E0            [24]  415 	push	acc
      000181 C0 02            [24]  416 	push	ar2
      000183 C0 03            [24]  417 	push	ar3
      000185 C0 04            [24]  418 	push	ar4
      000187 8D 82            [24]  419 	mov	dpl,r5
      000189 8E 83            [24]  420 	mov	dph,r6
      00018B 8F F0            [24]  421 	mov	b,r7
      00018D 78r00            [12]  422 	mov	r0,#_memmove
      00018F 79s00            [12]  423 	mov	r1,#(_memmove >> 8)
      000191 7As00            [12]  424 	mov	r2,#(_memmove >> 16)
      000193 12r00r00         [24]  425 	lcall	__sdcc_banked_call
      000196 E5 81            [12]  426 	mov	a,sp
      000198 24 FB            [12]  427 	add	a,#0xfb
                                    428 ;	/opt/contiki/core/lib/mmem.c:131: for(n = m->next; n != NULL; n = n->next) {
      00019A F5 81            [12]  429 	mov	sp,a
      00019C 24 F3            [12]  430 	add	a,#0xf3
      00019E F8               [12]  431 	mov	r0,a
      00019F 86 82            [24]  432 	mov	dpl,@r0
      0001A1 08               [12]  433 	inc	r0
      0001A2 86 83            [24]  434 	mov	dph,@r0
      0001A4 08               [12]  435 	inc	r0
      0001A5 86 F0            [24]  436 	mov	b,@r0
      0001A7 A9 81            [24]  437 	mov	r1,sp
      0001A9 19               [12]  438 	dec	r1
      0001AA 19               [12]  439 	dec	r1
      0001AB 12r00r00         [24]  440 	lcall	__gptrget
      0001AE F7               [12]  441 	mov	@r1,a
      0001AF A3               [24]  442 	inc	dptr
      0001B0 12r00r00         [24]  443 	lcall	__gptrget
      0001B3 09               [12]  444 	inc	r1
      0001B4 F7               [12]  445 	mov	@r1,a
      0001B5 A3               [24]  446 	inc	dptr
      0001B6 12r00r00         [24]  447 	lcall	__gptrget
      0001B9 09               [12]  448 	inc	r1
      0001BA F7               [12]  449 	mov	@r1,a
      0001BB E5 81            [12]  450 	mov	a,sp
      0001BD 24 F3            [12]  451 	add	a,#0xf3
      0001BF F8               [12]  452 	mov	r0,a
      0001C0 E5 81            [12]  453 	mov	a,sp
      0001C2 24 F8            [12]  454 	add	a,#0xf8
      0001C4 F9               [12]  455 	mov	r1,a
      0001C5 74 03            [12]  456 	mov	a,#0x03
      0001C7 26               [12]  457 	add	a,@r0
      0001C8 F7               [12]  458 	mov	@r1,a
      0001C9 E4               [12]  459 	clr	a
      0001CA 08               [12]  460 	inc	r0
      0001CB 36               [12]  461 	addc	a,@r0
      0001CC 09               [12]  462 	inc	r1
      0001CD F7               [12]  463 	mov	@r1,a
      0001CE 08               [12]  464 	inc	r0
      0001CF 09               [12]  465 	inc	r1
      0001D0 E6               [12]  466 	mov	a,@r0
      0001D1 F7               [12]  467 	mov	@r1,a
      0001D2                        468 00105$:
      0001D2 A8 81            [24]  469 	mov	r0,sp
      0001D4 18               [12]  470 	dec	r0
      0001D5 18               [12]  471 	dec	r0
      0001D6 E4               [12]  472 	clr	a
      0001D7 C0 E0            [24]  473 	push	acc
      0001D9 C0 E0            [24]  474 	push	acc
      0001DB C0 E0            [24]  475 	push	acc
      0001DD 86 82            [24]  476 	mov	dpl,@r0
      0001DF 08               [12]  477 	inc	r0
      0001E0 86 83            [24]  478 	mov	dph,@r0
      0001E2 08               [12]  479 	inc	r0
      0001E3 86 F0            [24]  480 	mov	b,@r0
      0001E5 12r00r00         [24]  481 	lcall	___gptr_cmp
      0001E8 15 81            [12]  482 	dec	sp
      0001EA 15 81            [12]  483 	dec	sp
      0001EC 15 81            [12]  484 	dec	sp
      0001EE 70 03            [24]  485 	jnz	00119$
      0001F0 02r02r7E         [24]  486 	ljmp	00103$
      0001F3                        487 00119$:
                                    488 ;	/opt/contiki/core/lib/mmem.c:132: n->ptr = (void *)((char *)n->ptr - m->size);
      0001F3 A8 81            [24]  489 	mov	r0,sp
      0001F5 18               [12]  490 	dec	r0
      0001F6 18               [12]  491 	dec	r0
      0001F7 74 05            [12]  492 	mov	a,#0x05
      0001F9 26               [12]  493 	add	a,@r0
      0001FA FD               [12]  494 	mov	r5,a
      0001FB E4               [12]  495 	clr	a
      0001FC 08               [12]  496 	inc	r0
      0001FD 36               [12]  497 	addc	a,@r0
      0001FE FE               [12]  498 	mov	r6,a
      0001FF 08               [12]  499 	inc	r0
      000200 86 07            [24]  500 	mov	ar7,@r0
      000202 8D 82            [24]  501 	mov	dpl,r5
      000204 8E 83            [24]  502 	mov	dph,r6
      000206 8F F0            [24]  503 	mov	b,r7
      000208 12r00r00         [24]  504 	lcall	__gptrget
      00020B FA               [12]  505 	mov	r2,a
      00020C A3               [24]  506 	inc	dptr
      00020D 12r00r00         [24]  507 	lcall	__gptrget
      000210 FB               [12]  508 	mov	r3,a
      000211 A3               [24]  509 	inc	dptr
      000212 12r00r00         [24]  510 	lcall	__gptrget
      000215 FC               [12]  511 	mov	r4,a
      000216 E5 81            [12]  512 	mov	a,sp
      000218 24 FB            [12]  513 	add	a,#0xfb
      00021A F8               [12]  514 	mov	r0,a
      00021B A6 02            [24]  515 	mov	@r0,ar2
      00021D 08               [12]  516 	inc	r0
      00021E A6 03            [24]  517 	mov	@r0,ar3
      000220 08               [12]  518 	inc	r0
      000221 A6 04            [24]  519 	mov	@r0,ar4
      000223 E5 81            [12]  520 	mov	a,sp
      000225 24 F8            [12]  521 	add	a,#0xf8
      000227 F8               [12]  522 	mov	r0,a
      000228 86 82            [24]  523 	mov	dpl,@r0
      00022A 08               [12]  524 	inc	r0
      00022B 86 83            [24]  525 	mov	dph,@r0
      00022D 08               [12]  526 	inc	r0
      00022E 86 F0            [24]  527 	mov	b,@r0
      000230 12r00r00         [24]  528 	lcall	__gptrget
      000233 FB               [12]  529 	mov	r3,a
      000234 A3               [24]  530 	inc	dptr
      000235 12r00r00         [24]  531 	lcall	__gptrget
      000238 FC               [12]  532 	mov	r4,a
      000239 E5 81            [12]  533 	mov	a,sp
      00023B 24 FB            [12]  534 	add	a,#0xfb
      00023D F8               [12]  535 	mov	r0,a
      00023E E6               [12]  536 	mov	a,@r0
      00023F C3               [12]  537 	clr	c
      000240 9B               [12]  538 	subb	a,r3
      000241 FB               [12]  539 	mov	r3,a
      000242 08               [12]  540 	inc	r0
      000243 E6               [12]  541 	mov	a,@r0
      000244 9C               [12]  542 	subb	a,r4
      000245 FC               [12]  543 	mov	r4,a
      000246 08               [12]  544 	inc	r0
      000247 86 02            [24]  545 	mov	ar2,@r0
      000249 8D 82            [24]  546 	mov	dpl,r5
      00024B 8E 83            [24]  547 	mov	dph,r6
      00024D 8F F0            [24]  548 	mov	b,r7
      00024F EB               [12]  549 	mov	a,r3
      000250 12r00r00         [24]  550 	lcall	__gptrput
      000253 A3               [24]  551 	inc	dptr
      000254 EC               [12]  552 	mov	a,r4
      000255 12r00r00         [24]  553 	lcall	__gptrput
      000258 A3               [24]  554 	inc	dptr
      000259 EA               [12]  555 	mov	a,r2
      00025A 12r00r00         [24]  556 	lcall	__gptrput
                                    557 ;	/opt/contiki/core/lib/mmem.c:131: for(n = m->next; n != NULL; n = n->next) {
      00025D A8 81            [24]  558 	mov	r0,sp
      00025F 18               [12]  559 	dec	r0
      000260 18               [12]  560 	dec	r0
      000261 86 82            [24]  561 	mov	dpl,@r0
      000263 08               [12]  562 	inc	r0
      000264 86 83            [24]  563 	mov	dph,@r0
      000266 08               [12]  564 	inc	r0
      000267 86 F0            [24]  565 	mov	b,@r0
      000269 12r00r00         [24]  566 	lcall	__gptrget
      00026C 18               [12]  567 	dec	r0
      00026D 18               [12]  568 	dec	r0
      00026E F6               [12]  569 	mov	@r0,a
      00026F A3               [24]  570 	inc	dptr
      000270 12r00r00         [24]  571 	lcall	__gptrget
      000273 08               [12]  572 	inc	r0
      000274 F6               [12]  573 	mov	@r0,a
      000275 A3               [24]  574 	inc	dptr
      000276 12r00r00         [24]  575 	lcall	__gptrget
      000279 08               [12]  576 	inc	r0
      00027A F6               [12]  577 	mov	@r0,a
      00027B 02r01rD2         [24]  578 	ljmp	00105$
      00027E                        579 00103$:
                                    580 ;	/opt/contiki/core/lib/mmem.c:136: avail_memory += m->size;
      00027E E5 81            [12]  581 	mov	a,sp
      000280 24 F3            [12]  582 	add	a,#0xf3
      000282 F8               [12]  583 	mov	r0,a
      000283 74 03            [12]  584 	mov	a,#0x03
      000285 26               [12]  585 	add	a,@r0
      000286 FD               [12]  586 	mov	r5,a
      000287 E4               [12]  587 	clr	a
      000288 08               [12]  588 	inc	r0
      000289 36               [12]  589 	addc	a,@r0
      00028A FE               [12]  590 	mov	r6,a
      00028B 08               [12]  591 	inc	r0
      00028C 86 07            [24]  592 	mov	ar7,@r0
      00028E 8D 82            [24]  593 	mov	dpl,r5
      000290 8E 83            [24]  594 	mov	dph,r6
      000292 8F F0            [24]  595 	mov	b,r7
      000294 12r00r00         [24]  596 	lcall	__gptrget
      000297 FD               [12]  597 	mov	r5,a
      000298 A3               [24]  598 	inc	dptr
      000299 12r00r00         [24]  599 	lcall	__gptrget
      00029C FE               [12]  600 	mov	r6,a
      00029D 90r00r00         [24]  601 	mov	dptr,#_avail_memory
      0002A0 E0               [24]  602 	movx	a,@dptr
      0002A1 FC               [12]  603 	mov	r4,a
      0002A2 A3               [24]  604 	inc	dptr
      0002A3 E0               [24]  605 	movx	a,@dptr
      0002A4 FF               [12]  606 	mov	r7,a
      0002A5 90r00r00         [24]  607 	mov	dptr,#_avail_memory
      0002A8 ED               [12]  608 	mov	a,r5
      0002A9 2C               [12]  609 	add	a,r4
      0002AA F0               [24]  610 	movx	@dptr,a
      0002AB EE               [12]  611 	mov	a,r6
      0002AC 3F               [12]  612 	addc	a,r7
      0002AD A3               [24]  613 	inc	dptr
      0002AE F0               [24]  614 	movx	@dptr,a
                                    615 ;	/opt/contiki/core/lib/mmem.c:139: list_remove(mmemlist, m);
      0002AF E5 81            [12]  616 	mov	a,sp
      0002B1 24 F3            [12]  617 	add	a,#0xf3
      0002B3 F8               [12]  618 	mov	r0,a
      0002B4 86 05            [24]  619 	mov	ar5,@r0
      0002B6 08               [12]  620 	inc	r0
      0002B7 86 06            [24]  621 	mov	ar6,@r0
      0002B9 08               [12]  622 	inc	r0
      0002BA 86 07            [24]  623 	mov	ar7,@r0
      0002BC 90r00r03         [24]  624 	mov	dptr,#_mmemlist
      0002BF E0               [24]  625 	movx	a,@dptr
      0002C0 FA               [12]  626 	mov	r2,a
      0002C1 A3               [24]  627 	inc	dptr
      0002C2 E0               [24]  628 	movx	a,@dptr
      0002C3 FB               [12]  629 	mov	r3,a
      0002C4 A3               [24]  630 	inc	dptr
      0002C5 E0               [24]  631 	movx	a,@dptr
      0002C6 FC               [12]  632 	mov	r4,a
      0002C7 C0 05            [24]  633 	push	ar5
      0002C9 C0 06            [24]  634 	push	ar6
      0002CB C0 07            [24]  635 	push	ar7
      0002CD 8A 82            [24]  636 	mov	dpl,r2
      0002CF 8B 83            [24]  637 	mov	dph,r3
      0002D1 8C F0            [24]  638 	mov	b,r4
      0002D3 78r00            [12]  639 	mov	r0,#_list_remove
      0002D5 79s00            [12]  640 	mov	r1,#(_list_remove >> 8)
      0002D7 7As00            [12]  641 	mov	r2,#(_list_remove >> 16)
      0002D9 12r00r00         [24]  642 	lcall	__sdcc_banked_call
      0002DC 15 81            [12]  643 	dec	sp
      0002DE 15 81            [12]  644 	dec	sp
      0002E0 15 81            [12]  645 	dec	sp
      0002E2 E5 81            [12]  646 	mov	a,sp
      0002E4 24 F2            [12]  647 	add	a,#0xF2
      0002E6 F5 81            [12]  648 	mov	sp,a
      0002E8 02r00r00         [24]  649 	ljmp	__sdcc_banked_ret
                                    650 ;------------------------------------------------------------
                                    651 ;Allocation info for local variables in function 'mmem_init'
                                    652 ;------------------------------------------------------------
                                    653 ;inited                    Allocated with name '_mmem_init_inited_1_44'
                                    654 ;------------------------------------------------------------
                                    655 ;	/opt/contiki/core/lib/mmem.c:152: mmem_init(void)
                                    656 ;	-----------------------------------------
                                    657 ;	 function mmem_init
                                    658 ;	-----------------------------------------
      0002EB                        659 _mmem_init:
                                    660 ;	/opt/contiki/core/lib/mmem.c:155: if(inited) {
      0002EB 90r10r02         [24]  661 	mov	dptr,#_mmem_init_inited_1_44
      0002EE E0               [24]  662 	movx	a,@dptr
      0002EF F5 F0            [12]  663 	mov	b,a
      0002F1 A3               [24]  664 	inc	dptr
      0002F2 E0               [24]  665 	movx	a,@dptr
      0002F3 45 F0            [12]  666 	orl	a,b
      0002F5 60 02            [24]  667 	jz	00102$
                                    668 ;	/opt/contiki/core/lib/mmem.c:156: return;
      0002F7 80 2B            [24]  669 	sjmp	00103$
      0002F9                        670 00102$:
                                    671 ;	/opt/contiki/core/lib/mmem.c:158: list_init(mmemlist);
      0002F9 90r00r03         [24]  672 	mov	dptr,#_mmemlist
      0002FC E0               [24]  673 	movx	a,@dptr
      0002FD FD               [12]  674 	mov	r5,a
      0002FE A3               [24]  675 	inc	dptr
      0002FF E0               [24]  676 	movx	a,@dptr
      000300 FE               [12]  677 	mov	r6,a
      000301 A3               [24]  678 	inc	dptr
      000302 E0               [24]  679 	movx	a,@dptr
      000303 FF               [12]  680 	mov	r7,a
      000304 8D 82            [24]  681 	mov	dpl,r5
      000306 8E 83            [24]  682 	mov	dph,r6
      000308 8F F0            [24]  683 	mov	b,r7
      00030A 78r00            [12]  684 	mov	r0,#_list_init
      00030C 79s00            [12]  685 	mov	r1,#(_list_init >> 8)
      00030E 7As00            [12]  686 	mov	r2,#(_list_init >> 16)
      000310 12r00r00         [24]  687 	lcall	__sdcc_banked_call
                                    688 ;	/opt/contiki/core/lib/mmem.c:159: avail_memory = MMEM_SIZE;
      000313 90r00r00         [24]  689 	mov	dptr,#_avail_memory
      000316 E4               [12]  690 	clr	a
      000317 F0               [24]  691 	movx	@dptr,a
      000318 74 10            [12]  692 	mov	a,#0x10
      00031A A3               [24]  693 	inc	dptr
      00031B F0               [24]  694 	movx	@dptr,a
                                    695 ;	/opt/contiki/core/lib/mmem.c:160: inited = 1;
      00031C 90r10r02         [24]  696 	mov	dptr,#_mmem_init_inited_1_44
      00031F C4               [12]  697 	swap	a
      000320 F0               [24]  698 	movx	@dptr,a
      000321 E4               [12]  699 	clr	a
      000322 A3               [24]  700 	inc	dptr
      000323 F0               [24]  701 	movx	@dptr,a
      000324                        702 00103$:
      000324 02r00r00         [24]  703 	ljmp	__sdcc_banked_ret
                                    704 	.area CSEG    (CODE)
                                    705 	.area CONST   (CODE)
                                    706 	.area XINIT   (CODE)
      000000                        707 __xinit__mmemlist_list:
                                    708 ; generic printIvalPtr
      000000 00 00 00               709 	.byte #0x00,#0x00,#0x00
      000003                        710 __xinit__mmemlist:
      000003r00s00 00               711 	.byte _mmemlist_list, (_mmemlist_list >> 8),#0x00
                                    712 	.area CABS    (ABS,CODE)
