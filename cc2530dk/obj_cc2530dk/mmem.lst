                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 3.5.5 #9380 (Linux)
                                      4 ; This file was generated Tue Nov 17 16:52:50 2015
                                      5 ;--------------------------------------------------------
                                      6 	.module mmem
                                      7 	.optsdcc -mmcs51 --model-large
                                      8 	
                                      9 ;--------------------------------------------------------
                                     10 ; Public variables in this module
                                     11 ;--------------------------------------------------------
                                     12 	.globl _memmove
                                     13 	.globl _list_remove
                                     14 	.globl _list_add
                                     15 	.globl _list_init
                                     16 	.globl _avail_memory
                                     17 	.globl _mmem_alloc
                                     18 	.globl _mmem_free
                                     19 	.globl _mmem_init
                                     20 ;--------------------------------------------------------
                                     21 ; special function registers
                                     22 ;--------------------------------------------------------
                                     23 	.area RSEG    (ABS,DATA)
      000000                         24 	.org 0x0000
                                     25 ;--------------------------------------------------------
                                     26 ; special function bits
                                     27 ;--------------------------------------------------------
                                     28 	.area RSEG    (ABS,DATA)
      000000                         29 	.org 0x0000
                                     30 ;--------------------------------------------------------
                                     31 ; overlayable register banks
                                     32 ;--------------------------------------------------------
                                     33 	.area REG_BANK_0	(REL,OVR,DATA)
      000000                         34 	.ds 8
                                     35 ;--------------------------------------------------------
                                     36 ; internal ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area DSEG    (DATA)
                                     39 ;--------------------------------------------------------
                                     40 ; overlayable items in internal ram 
                                     41 ;--------------------------------------------------------
                                     42 ;--------------------------------------------------------
                                     43 ; indirectly addressable internal ram data
                                     44 ;--------------------------------------------------------
                                     45 	.area ISEG    (DATA)
                                     46 ;--------------------------------------------------------
                                     47 ; absolute internal ram data
                                     48 ;--------------------------------------------------------
                                     49 	.area IABS    (ABS,DATA)
                                     50 	.area IABS    (ABS,DATA)
                                     51 ;--------------------------------------------------------
                                     52 ; bit data
                                     53 ;--------------------------------------------------------
                                     54 	.area BSEG    (BIT)
                                     55 ;--------------------------------------------------------
                                     56 ; paged external ram data
                                     57 ;--------------------------------------------------------
                                     58 	.area PSEG    (PAG,XDATA)
                                     59 ;--------------------------------------------------------
                                     60 ; external ram data
                                     61 ;--------------------------------------------------------
                                     62 	.area XSEG    (XDATA)
      000000                         63 _avail_memory::
      000000                         64 	.ds 2
      000002                         65 _memory:
      000002                         66 	.ds 4096
      001002                         67 _mmem_init_inited_1_44:
      001002                         68 	.ds 2
                                     69 ;--------------------------------------------------------
                                     70 ; absolute external ram data
                                     71 ;--------------------------------------------------------
                                     72 	.area XABS    (ABS,XDATA)
                                     73 ;--------------------------------------------------------
                                     74 ; external initialized ram data
                                     75 ;--------------------------------------------------------
                                     76 	.area XISEG   (XDATA)
      000000                         77 _mmemlist_list:
      000000                         78 	.ds 3
      000003                         79 _mmemlist:
      000003                         80 	.ds 3
                                     81 	.area HOME    (CODE)
                                     82 	.area GSINIT0 (CODE)
                                     83 	.area GSINIT1 (CODE)
                                     84 	.area GSINIT2 (CODE)
                                     85 	.area GSINIT3 (CODE)
                                     86 	.area GSINIT4 (CODE)
                                     87 	.area GSINIT5 (CODE)
                                     88 	.area GSINIT  (CODE)
                                     89 	.area GSFINAL (CODE)
                                     90 	.area CSEG    (CODE)
                                     91 ;--------------------------------------------------------
                                     92 ; global & static initialisations
                                     93 ;--------------------------------------------------------
                                     94 	.area HOME    (CODE)
                                     95 	.area GSINIT  (CODE)
                                     96 	.area GSFINAL (CODE)
                                     97 	.area GSINIT  (CODE)
                                     98 ;------------------------------------------------------------
                                     99 ;Allocation info for local variables in function 'mmem_init'
                                    100 ;------------------------------------------------------------
                                    101 ;inited                    Allocated with name '_mmem_init_inited_1_44'
                                    102 ;------------------------------------------------------------
                                    103 ;	/opt/contiki/core/lib/mmem.c:154: static int inited = 0;
      000000 90r10r02         [24]  104 	mov	dptr,#_mmem_init_inited_1_44
      000003 E4               [12]  105 	clr	a
      000004 F0               [24]  106 	movx	@dptr,a
      000005 A3               [24]  107 	inc	dptr
      000006 F0               [24]  108 	movx	@dptr,a
                                    109 ;--------------------------------------------------------
                                    110 ; Home
                                    111 ;--------------------------------------------------------
                                    112 	.area HOME    (CODE)
                                    113 	.area HOME    (CODE)
                                    114 ;--------------------------------------------------------
                                    115 ; code
                                    116 ;--------------------------------------------------------
                                    117 	.area CSEG    (CODE)
                                    118 ;------------------------------------------------------------
                                    119 ;Allocation info for local variables in function 'mmem_alloc'
                                    120 ;------------------------------------------------------------
                                    121 ;size                      Allocated to stack - sp -6
                                    122 ;m                         Allocated to stack - sp -2
                                    123 ;------------------------------------------------------------
                                    124 ;	/opt/contiki/core/lib/mmem.c:83: mmem_alloc(struct mmem *m, unsigned int size)
                                    125 ;	-----------------------------------------
                                    126 ;	 function mmem_alloc
                                    127 ;	-----------------------------------------
      000000                        128 _mmem_alloc:
                           000007   129 	ar7 = 0x07
                           000006   130 	ar6 = 0x06
                           000005   131 	ar5 = 0x05
                           000004   132 	ar4 = 0x04
                           000003   133 	ar3 = 0x03
                           000002   134 	ar2 = 0x02
                           000001   135 	ar1 = 0x01
                           000000   136 	ar0 = 0x00
      000000 C0 82            [24]  137 	push	dpl
      000002 C0 83            [24]  138 	push	dph
      000004 C0 F0            [24]  139 	push	b
                                    140 ;	/opt/contiki/core/lib/mmem.c:86: if(avail_memory < size) {
      000006 90r00r00         [24]  141 	mov	dptr,#_avail_memory
      000009 E0               [24]  142 	movx	a,@dptr
      00000A FB               [12]  143 	mov	r3,a
      00000B A3               [24]  144 	inc	dptr
      00000C E0               [24]  145 	movx	a,@dptr
      00000D FC               [12]  146 	mov	r4,a
      00000E E5 81            [12]  147 	mov	a,sp
      000010 24 FA            [12]  148 	add	a,#0xfa
      000012 F8               [12]  149 	mov	r0,a
      000013 C3               [12]  150 	clr	c
      000014 EB               [12]  151 	mov	a,r3
      000015 96               [12]  152 	subb	a,@r0
      000016 EC               [12]  153 	mov	a,r4
      000017 08               [12]  154 	inc	r0
      000018 96               [12]  155 	subb	a,@r0
      000019 50 06            [24]  156 	jnc	00102$
                                    157 ;	/opt/contiki/core/lib/mmem.c:87: return 0;
      00001B 90 00 00         [24]  158 	mov	dptr,#0x0000
      00001E 02r00rCA         [24]  159 	ljmp	00103$
      000021                        160 00102$:
                                    161 ;	/opt/contiki/core/lib/mmem.c:92: list_add(mmemlist, m);
      000021 A8 81            [24]  162 	mov	r0,sp
      000023 18               [12]  163 	dec	r0
      000024 18               [12]  164 	dec	r0
      000025 86 02            [24]  165 	mov	ar2,@r0
      000027 08               [12]  166 	inc	r0
      000028 86 03            [24]  167 	mov	ar3,@r0
      00002A 08               [12]  168 	inc	r0
      00002B 86 04            [24]  169 	mov	ar4,@r0
      00002D 90r00r03         [24]  170 	mov	dptr,#_mmemlist
      000030 E0               [24]  171 	movx	a,@dptr
      000031 FD               [12]  172 	mov	r5,a
      000032 A3               [24]  173 	inc	dptr
      000033 E0               [24]  174 	movx	a,@dptr
      000034 FE               [12]  175 	mov	r6,a
      000035 A3               [24]  176 	inc	dptr
      000036 E0               [24]  177 	movx	a,@dptr
      000037 FF               [12]  178 	mov	r7,a
      000038 C0 02            [24]  179 	push	ar2
      00003A C0 03            [24]  180 	push	ar3
      00003C C0 04            [24]  181 	push	ar4
      00003E 8D 82            [24]  182 	mov	dpl,r5
      000040 8E 83            [24]  183 	mov	dph,r6
      000042 8F F0            [24]  184 	mov	b,r7
      000044 12r00r00         [24]  185 	lcall	_list_add
      000047 15 81            [12]  186 	dec	sp
      000049 15 81            [12]  187 	dec	sp
      00004B 15 81            [12]  188 	dec	sp
                                    189 ;	/opt/contiki/core/lib/mmem.c:96: m->ptr = &memory[MMEM_SIZE - avail_memory];
      00004D A8 81            [24]  190 	mov	r0,sp
      00004F 18               [12]  191 	dec	r0
      000050 18               [12]  192 	dec	r0
      000051 74 05            [12]  193 	mov	a,#0x05
      000053 26               [12]  194 	add	a,@r0
      000054 FD               [12]  195 	mov	r5,a
      000055 E4               [12]  196 	clr	a
      000056 08               [12]  197 	inc	r0
      000057 36               [12]  198 	addc	a,@r0
      000058 FE               [12]  199 	mov	r6,a
      000059 08               [12]  200 	inc	r0
      00005A 86 07            [24]  201 	mov	ar7,@r0
      00005C 90r00r00         [24]  202 	mov	dptr,#_avail_memory
      00005F E0               [24]  203 	movx	a,@dptr
      000060 FB               [12]  204 	mov	r3,a
      000061 A3               [24]  205 	inc	dptr
      000062 E0               [24]  206 	movx	a,@dptr
      000063 FC               [12]  207 	mov	r4,a
      000064 E4               [12]  208 	clr	a
      000065 C3               [12]  209 	clr	c
      000066 9B               [12]  210 	subb	a,r3
      000067 FB               [12]  211 	mov	r3,a
      000068 74 10            [12]  212 	mov	a,#0x10
      00006A 9C               [12]  213 	subb	a,r4
      00006B FC               [12]  214 	mov	r4,a
      00006C EB               [12]  215 	mov	a,r3
      00006D 24r02            [12]  216 	add	a,#_memory
      00006F FB               [12]  217 	mov	r3,a
      000070 EC               [12]  218 	mov	a,r4
      000071 34s00            [12]  219 	addc	a,#(_memory >> 8)
      000073 FC               [12]  220 	mov	r4,a
      000074 7A 00            [12]  221 	mov	r2,#0x00
      000076 8D 82            [24]  222 	mov	dpl,r5
      000078 8E 83            [24]  223 	mov	dph,r6
      00007A 8F F0            [24]  224 	mov	b,r7
      00007C EB               [12]  225 	mov	a,r3
      00007D 12r00r00         [24]  226 	lcall	__gptrput
      000080 A3               [24]  227 	inc	dptr
      000081 EC               [12]  228 	mov	a,r4
      000082 12r00r00         [24]  229 	lcall	__gptrput
      000085 A3               [24]  230 	inc	dptr
      000086 EA               [12]  231 	mov	a,r2
      000087 12r00r00         [24]  232 	lcall	__gptrput
                                    233 ;	/opt/contiki/core/lib/mmem.c:99: m->size = size;
      00008A A8 81            [24]  234 	mov	r0,sp
      00008C 18               [12]  235 	dec	r0
      00008D 18               [12]  236 	dec	r0
      00008E 74 03            [12]  237 	mov	a,#0x03
      000090 26               [12]  238 	add	a,@r0
      000091 FD               [12]  239 	mov	r5,a
      000092 E4               [12]  240 	clr	a
      000093 08               [12]  241 	inc	r0
      000094 36               [12]  242 	addc	a,@r0
      000095 FE               [12]  243 	mov	r6,a
      000096 08               [12]  244 	inc	r0
      000097 86 07            [24]  245 	mov	ar7,@r0
      000099 8D 82            [24]  246 	mov	dpl,r5
      00009B 8E 83            [24]  247 	mov	dph,r6
      00009D 8F F0            [24]  248 	mov	b,r7
      00009F E5 81            [12]  249 	mov	a,sp
      0000A1 24 FA            [12]  250 	add	a,#0xfa
      0000A3 F8               [12]  251 	mov	r0,a
      0000A4 E6               [12]  252 	mov	a,@r0
      0000A5 12r00r00         [24]  253 	lcall	__gptrput
      0000A8 A3               [24]  254 	inc	dptr
      0000A9 08               [12]  255 	inc	r0
      0000AA E6               [12]  256 	mov	a,@r0
      0000AB 12r00r00         [24]  257 	lcall	__gptrput
                                    258 ;	/opt/contiki/core/lib/mmem.c:102: avail_memory -= size;
      0000AE 90r00r00         [24]  259 	mov	dptr,#_avail_memory
      0000B1 E0               [24]  260 	movx	a,@dptr
      0000B2 FE               [12]  261 	mov	r6,a
      0000B3 A3               [24]  262 	inc	dptr
      0000B4 E0               [24]  263 	movx	a,@dptr
      0000B5 FF               [12]  264 	mov	r7,a
      0000B6 E5 81            [12]  265 	mov	a,sp
      0000B8 24 FA            [12]  266 	add	a,#0xfa
      0000BA F8               [12]  267 	mov	r0,a
      0000BB 90r00r00         [24]  268 	mov	dptr,#_avail_memory
      0000BE EE               [12]  269 	mov	a,r6
      0000BF C3               [12]  270 	clr	c
      0000C0 96               [12]  271 	subb	a,@r0
      0000C1 F0               [24]  272 	movx	@dptr,a
      0000C2 EF               [12]  273 	mov	a,r7
      0000C3 08               [12]  274 	inc	r0
      0000C4 96               [12]  275 	subb	a,@r0
      0000C5 A3               [24]  276 	inc	dptr
      0000C6 F0               [24]  277 	movx	@dptr,a
                                    278 ;	/opt/contiki/core/lib/mmem.c:106: return 1;
      0000C7 90 00 01         [24]  279 	mov	dptr,#0x0001
      0000CA                        280 00103$:
      0000CA 15 81            [12]  281 	dec	sp
      0000CC 15 81            [12]  282 	dec	sp
      0000CE 15 81            [12]  283 	dec	sp
      0000D0 22               [24]  284 	ret
                                    285 ;------------------------------------------------------------
                                    286 ;Allocation info for local variables in function 'mmem_free'
                                    287 ;------------------------------------------------------------
                                    288 ;m                         Allocated to stack - sp -13
                                    289 ;n                         Allocated to stack - sp -2
                                    290 ;sloc0                     Allocated to stack - sp -10
                                    291 ;sloc1                     Allocated to stack - sp -8
                                    292 ;sloc2                     Allocated to stack - sp -5
                                    293 ;------------------------------------------------------------
                                    294 ;	/opt/contiki/core/lib/mmem.c:119: mmem_free(struct mmem *m)
                                    295 ;	-----------------------------------------
                                    296 ;	 function mmem_free
                                    297 ;	-----------------------------------------
      0000D1                        298 _mmem_free:
      0000D1 C0 82            [24]  299 	push	dpl
      0000D3 C0 83            [24]  300 	push	dph
      0000D5 C0 F0            [24]  301 	push	b
      0000D7 E5 81            [12]  302 	mov	a,sp
      0000D9 24 0B            [12]  303 	add	a,#0x0B
                                    304 ;	/opt/contiki/core/lib/mmem.c:123: if(m->next != NULL) {
      0000DB F5 81            [12]  305 	mov	sp,a
      0000DD 24 F3            [12]  306 	add	a,#0xf3
      0000DF F8               [12]  307 	mov	r0,a
      0000E0 86 82            [24]  308 	mov	dpl,@r0
      0000E2 08               [12]  309 	inc	r0
      0000E3 86 83            [24]  310 	mov	dph,@r0
      0000E5 08               [12]  311 	inc	r0
      0000E6 86 F0            [24]  312 	mov	b,@r0
      0000E8 12r00r00         [24]  313 	lcall	__gptrget
      0000EB FA               [12]  314 	mov	r2,a
      0000EC A3               [24]  315 	inc	dptr
      0000ED 12r00r00         [24]  316 	lcall	__gptrget
      0000F0 FB               [12]  317 	mov	r3,a
      0000F1 A3               [24]  318 	inc	dptr
      0000F2 12r00r00         [24]  319 	lcall	__gptrget
      0000F5 FC               [12]  320 	mov	r4,a
      0000F6 EA               [12]  321 	mov	a,r2
      0000F7 4B               [12]  322 	orl	a,r3
      0000F8 70 03            [24]  323 	jnz	00118$
      0000FA 02r02r70         [24]  324 	ljmp	00103$
      0000FD                        325 00118$:
                                    326 ;	/opt/contiki/core/lib/mmem.c:127: &memory[MMEM_SIZE - avail_memory] - (char *)m->next->ptr);
      0000FD 90r00r00         [24]  327 	mov	dptr,#_avail_memory
      000100 E0               [24]  328 	movx	a,@dptr
      000101 FE               [12]  329 	mov	r6,a
      000102 A3               [24]  330 	inc	dptr
      000103 E0               [24]  331 	movx	a,@dptr
      000104 FF               [12]  332 	mov	r7,a
      000105 E4               [12]  333 	clr	a
      000106 C3               [12]  334 	clr	c
      000107 9E               [12]  335 	subb	a,r6
      000108 FE               [12]  336 	mov	r6,a
      000109 74 10            [12]  337 	mov	a,#0x10
      00010B 9F               [12]  338 	subb	a,r7
      00010C FF               [12]  339 	mov	r7,a
      00010D E5 81            [12]  340 	mov	a,sp
      00010F 24 F6            [12]  341 	add	a,#0xf6
      000111 F8               [12]  342 	mov	r0,a
      000112 EE               [12]  343 	mov	a,r6
      000113 24r02            [12]  344 	add	a,#_memory
      000115 F6               [12]  345 	mov	@r0,a
      000116 EF               [12]  346 	mov	a,r7
      000117 34s00            [12]  347 	addc	a,#(_memory >> 8)
      000119 08               [12]  348 	inc	r0
      00011A F6               [12]  349 	mov	@r0,a
      00011B 74 05            [12]  350 	mov	a,#0x05
      00011D 2A               [12]  351 	add	a,r2
      00011E FA               [12]  352 	mov	r2,a
      00011F E4               [12]  353 	clr	a
      000120 3B               [12]  354 	addc	a,r3
      000121 FB               [12]  355 	mov	r3,a
      000122 8A 82            [24]  356 	mov	dpl,r2
      000124 8B 83            [24]  357 	mov	dph,r3
      000126 8C F0            [24]  358 	mov	b,r4
      000128 12r00r00         [24]  359 	lcall	__gptrget
      00012B FA               [12]  360 	mov	r2,a
      00012C A3               [24]  361 	inc	dptr
      00012D 12r00r00         [24]  362 	lcall	__gptrget
      000130 FB               [12]  363 	mov	r3,a
      000131 A3               [24]  364 	inc	dptr
      000132 12r00r00         [24]  365 	lcall	__gptrget
      000135 FC               [12]  366 	mov	r4,a
      000136 8A 05            [24]  367 	mov	ar5,r2
      000138 8B 06            [24]  368 	mov	ar6,r3
      00013A 8C 07            [24]  369 	mov	ar7,r4
      00013C E5 81            [12]  370 	mov	a,sp
      00013E 24 F6            [12]  371 	add	a,#0xf6
      000140 F8               [12]  372 	mov	r0,a
      000141 E6               [12]  373 	mov	a,@r0
      000142 C3               [12]  374 	clr	c
      000143 9D               [12]  375 	subb	a,r5
      000144 F6               [12]  376 	mov	@r0,a
      000145 08               [12]  377 	inc	r0
      000146 E6               [12]  378 	mov	a,@r0
      000147 9E               [12]  379 	subb	a,r6
      000148 F6               [12]  380 	mov	@r0,a
                                    381 ;	/opt/contiki/core/lib/mmem.c:126: memmove(m->ptr, m->next->ptr,
      000149 E5 81            [12]  382 	mov	a,sp
      00014B 24 F3            [12]  383 	add	a,#0xf3
      00014D F8               [12]  384 	mov	r0,a
      00014E 74 05            [12]  385 	mov	a,#0x05
      000150 26               [12]  386 	add	a,@r0
      000151 FD               [12]  387 	mov	r5,a
      000152 E4               [12]  388 	clr	a
      000153 08               [12]  389 	inc	r0
      000154 36               [12]  390 	addc	a,@r0
      000155 FE               [12]  391 	mov	r6,a
      000156 08               [12]  392 	inc	r0
      000157 86 07            [24]  393 	mov	ar7,@r0
      000159 8D 82            [24]  394 	mov	dpl,r5
      00015B 8E 83            [24]  395 	mov	dph,r6
      00015D 8F F0            [24]  396 	mov	b,r7
      00015F 12r00r00         [24]  397 	lcall	__gptrget
      000162 FD               [12]  398 	mov	r5,a
      000163 A3               [24]  399 	inc	dptr
      000164 12r00r00         [24]  400 	lcall	__gptrget
      000167 FE               [12]  401 	mov	r6,a
      000168 A3               [24]  402 	inc	dptr
      000169 12r00r00         [24]  403 	lcall	__gptrget
      00016C FF               [12]  404 	mov	r7,a
      00016D E5 81            [12]  405 	mov	a,sp
      00016F 24 F6            [12]  406 	add	a,#0xf6
      000171 F8               [12]  407 	mov	r0,a
      000172 E6               [12]  408 	mov	a,@r0
      000173 C0 E0            [24]  409 	push	acc
      000175 08               [12]  410 	inc	r0
      000176 E6               [12]  411 	mov	a,@r0
      000177 C0 E0            [24]  412 	push	acc
      000179 C0 02            [24]  413 	push	ar2
      00017B C0 03            [24]  414 	push	ar3
      00017D C0 04            [24]  415 	push	ar4
      00017F 8D 82            [24]  416 	mov	dpl,r5
      000181 8E 83            [24]  417 	mov	dph,r6
      000183 8F F0            [24]  418 	mov	b,r7
      000185 12r00r00         [24]  419 	lcall	_memmove
      000188 E5 81            [12]  420 	mov	a,sp
      00018A 24 FB            [12]  421 	add	a,#0xfb
                                    422 ;	/opt/contiki/core/lib/mmem.c:131: for(n = m->next; n != NULL; n = n->next) {
      00018C F5 81            [12]  423 	mov	sp,a
      00018E 24 F3            [12]  424 	add	a,#0xf3
      000190 F8               [12]  425 	mov	r0,a
      000191 86 82            [24]  426 	mov	dpl,@r0
      000193 08               [12]  427 	inc	r0
      000194 86 83            [24]  428 	mov	dph,@r0
      000196 08               [12]  429 	inc	r0
      000197 86 F0            [24]  430 	mov	b,@r0
      000199 A9 81            [24]  431 	mov	r1,sp
      00019B 19               [12]  432 	dec	r1
      00019C 19               [12]  433 	dec	r1
      00019D 12r00r00         [24]  434 	lcall	__gptrget
      0001A0 F7               [12]  435 	mov	@r1,a
      0001A1 A3               [24]  436 	inc	dptr
      0001A2 12r00r00         [24]  437 	lcall	__gptrget
      0001A5 09               [12]  438 	inc	r1
      0001A6 F7               [12]  439 	mov	@r1,a
      0001A7 A3               [24]  440 	inc	dptr
      0001A8 12r00r00         [24]  441 	lcall	__gptrget
      0001AB 09               [12]  442 	inc	r1
      0001AC F7               [12]  443 	mov	@r1,a
      0001AD E5 81            [12]  444 	mov	a,sp
      0001AF 24 F3            [12]  445 	add	a,#0xf3
      0001B1 F8               [12]  446 	mov	r0,a
      0001B2 E5 81            [12]  447 	mov	a,sp
      0001B4 24 F8            [12]  448 	add	a,#0xf8
      0001B6 F9               [12]  449 	mov	r1,a
      0001B7 74 03            [12]  450 	mov	a,#0x03
      0001B9 26               [12]  451 	add	a,@r0
      0001BA F7               [12]  452 	mov	@r1,a
      0001BB E4               [12]  453 	clr	a
      0001BC 08               [12]  454 	inc	r0
      0001BD 36               [12]  455 	addc	a,@r0
      0001BE 09               [12]  456 	inc	r1
      0001BF F7               [12]  457 	mov	@r1,a
      0001C0 08               [12]  458 	inc	r0
      0001C1 09               [12]  459 	inc	r1
      0001C2 E6               [12]  460 	mov	a,@r0
      0001C3 F7               [12]  461 	mov	@r1,a
      0001C4                        462 00105$:
      0001C4 A8 81            [24]  463 	mov	r0,sp
      0001C6 18               [12]  464 	dec	r0
      0001C7 18               [12]  465 	dec	r0
      0001C8 E4               [12]  466 	clr	a
      0001C9 C0 E0            [24]  467 	push	acc
      0001CB C0 E0            [24]  468 	push	acc
      0001CD C0 E0            [24]  469 	push	acc
      0001CF 86 82            [24]  470 	mov	dpl,@r0
      0001D1 08               [12]  471 	inc	r0
      0001D2 86 83            [24]  472 	mov	dph,@r0
      0001D4 08               [12]  473 	inc	r0
      0001D5 86 F0            [24]  474 	mov	b,@r0
      0001D7 12r00r00         [24]  475 	lcall	___gptr_cmp
      0001DA 15 81            [12]  476 	dec	sp
      0001DC 15 81            [12]  477 	dec	sp
      0001DE 15 81            [12]  478 	dec	sp
      0001E0 70 03            [24]  479 	jnz	00119$
      0001E2 02r02r70         [24]  480 	ljmp	00103$
      0001E5                        481 00119$:
                                    482 ;	/opt/contiki/core/lib/mmem.c:132: n->ptr = (void *)((char *)n->ptr - m->size);
      0001E5 A8 81            [24]  483 	mov	r0,sp
      0001E7 18               [12]  484 	dec	r0
      0001E8 18               [12]  485 	dec	r0
      0001E9 74 05            [12]  486 	mov	a,#0x05
      0001EB 26               [12]  487 	add	a,@r0
      0001EC FD               [12]  488 	mov	r5,a
      0001ED E4               [12]  489 	clr	a
      0001EE 08               [12]  490 	inc	r0
      0001EF 36               [12]  491 	addc	a,@r0
      0001F0 FE               [12]  492 	mov	r6,a
      0001F1 08               [12]  493 	inc	r0
      0001F2 86 07            [24]  494 	mov	ar7,@r0
      0001F4 8D 82            [24]  495 	mov	dpl,r5
      0001F6 8E 83            [24]  496 	mov	dph,r6
      0001F8 8F F0            [24]  497 	mov	b,r7
      0001FA 12r00r00         [24]  498 	lcall	__gptrget
      0001FD FA               [12]  499 	mov	r2,a
      0001FE A3               [24]  500 	inc	dptr
      0001FF 12r00r00         [24]  501 	lcall	__gptrget
      000202 FB               [12]  502 	mov	r3,a
      000203 A3               [24]  503 	inc	dptr
      000204 12r00r00         [24]  504 	lcall	__gptrget
      000207 FC               [12]  505 	mov	r4,a
      000208 E5 81            [12]  506 	mov	a,sp
      00020A 24 FB            [12]  507 	add	a,#0xfb
      00020C F8               [12]  508 	mov	r0,a
      00020D A6 02            [24]  509 	mov	@r0,ar2
      00020F 08               [12]  510 	inc	r0
      000210 A6 03            [24]  511 	mov	@r0,ar3
      000212 08               [12]  512 	inc	r0
      000213 A6 04            [24]  513 	mov	@r0,ar4
      000215 E5 81            [12]  514 	mov	a,sp
      000217 24 F8            [12]  515 	add	a,#0xf8
      000219 F8               [12]  516 	mov	r0,a
      00021A 86 82            [24]  517 	mov	dpl,@r0
      00021C 08               [12]  518 	inc	r0
      00021D 86 83            [24]  519 	mov	dph,@r0
      00021F 08               [12]  520 	inc	r0
      000220 86 F0            [24]  521 	mov	b,@r0
      000222 12r00r00         [24]  522 	lcall	__gptrget
      000225 FB               [12]  523 	mov	r3,a
      000226 A3               [24]  524 	inc	dptr
      000227 12r00r00         [24]  525 	lcall	__gptrget
      00022A FC               [12]  526 	mov	r4,a
      00022B E5 81            [12]  527 	mov	a,sp
      00022D 24 FB            [12]  528 	add	a,#0xfb
      00022F F8               [12]  529 	mov	r0,a
      000230 E6               [12]  530 	mov	a,@r0
      000231 C3               [12]  531 	clr	c
      000232 9B               [12]  532 	subb	a,r3
      000233 FB               [12]  533 	mov	r3,a
      000234 08               [12]  534 	inc	r0
      000235 E6               [12]  535 	mov	a,@r0
      000236 9C               [12]  536 	subb	a,r4
      000237 FC               [12]  537 	mov	r4,a
      000238 08               [12]  538 	inc	r0
      000239 86 02            [24]  539 	mov	ar2,@r0
      00023B 8D 82            [24]  540 	mov	dpl,r5
      00023D 8E 83            [24]  541 	mov	dph,r6
      00023F 8F F0            [24]  542 	mov	b,r7
      000241 EB               [12]  543 	mov	a,r3
      000242 12r00r00         [24]  544 	lcall	__gptrput
      000245 A3               [24]  545 	inc	dptr
      000246 EC               [12]  546 	mov	a,r4
      000247 12r00r00         [24]  547 	lcall	__gptrput
      00024A A3               [24]  548 	inc	dptr
      00024B EA               [12]  549 	mov	a,r2
      00024C 12r00r00         [24]  550 	lcall	__gptrput
                                    551 ;	/opt/contiki/core/lib/mmem.c:131: for(n = m->next; n != NULL; n = n->next) {
      00024F A8 81            [24]  552 	mov	r0,sp
      000251 18               [12]  553 	dec	r0
      000252 18               [12]  554 	dec	r0
      000253 86 82            [24]  555 	mov	dpl,@r0
      000255 08               [12]  556 	inc	r0
      000256 86 83            [24]  557 	mov	dph,@r0
      000258 08               [12]  558 	inc	r0
      000259 86 F0            [24]  559 	mov	b,@r0
      00025B 12r00r00         [24]  560 	lcall	__gptrget
      00025E 18               [12]  561 	dec	r0
      00025F 18               [12]  562 	dec	r0
      000260 F6               [12]  563 	mov	@r0,a
      000261 A3               [24]  564 	inc	dptr
      000262 12r00r00         [24]  565 	lcall	__gptrget
      000265 08               [12]  566 	inc	r0
      000266 F6               [12]  567 	mov	@r0,a
      000267 A3               [24]  568 	inc	dptr
      000268 12r00r00         [24]  569 	lcall	__gptrget
      00026B 08               [12]  570 	inc	r0
      00026C F6               [12]  571 	mov	@r0,a
      00026D 02r01rC4         [24]  572 	ljmp	00105$
      000270                        573 00103$:
                                    574 ;	/opt/contiki/core/lib/mmem.c:136: avail_memory += m->size;
      000270 E5 81            [12]  575 	mov	a,sp
      000272 24 F3            [12]  576 	add	a,#0xf3
      000274 F8               [12]  577 	mov	r0,a
      000275 74 03            [12]  578 	mov	a,#0x03
      000277 26               [12]  579 	add	a,@r0
      000278 FD               [12]  580 	mov	r5,a
      000279 E4               [12]  581 	clr	a
      00027A 08               [12]  582 	inc	r0
      00027B 36               [12]  583 	addc	a,@r0
      00027C FE               [12]  584 	mov	r6,a
      00027D 08               [12]  585 	inc	r0
      00027E 86 07            [24]  586 	mov	ar7,@r0
      000280 8D 82            [24]  587 	mov	dpl,r5
      000282 8E 83            [24]  588 	mov	dph,r6
      000284 8F F0            [24]  589 	mov	b,r7
      000286 12r00r00         [24]  590 	lcall	__gptrget
      000289 FD               [12]  591 	mov	r5,a
      00028A A3               [24]  592 	inc	dptr
      00028B 12r00r00         [24]  593 	lcall	__gptrget
      00028E FE               [12]  594 	mov	r6,a
      00028F 90r00r00         [24]  595 	mov	dptr,#_avail_memory
      000292 E0               [24]  596 	movx	a,@dptr
      000293 FC               [12]  597 	mov	r4,a
      000294 A3               [24]  598 	inc	dptr
      000295 E0               [24]  599 	movx	a,@dptr
      000296 FF               [12]  600 	mov	r7,a
      000297 90r00r00         [24]  601 	mov	dptr,#_avail_memory
      00029A ED               [12]  602 	mov	a,r5
      00029B 2C               [12]  603 	add	a,r4
      00029C F0               [24]  604 	movx	@dptr,a
      00029D EE               [12]  605 	mov	a,r6
      00029E 3F               [12]  606 	addc	a,r7
      00029F A3               [24]  607 	inc	dptr
      0002A0 F0               [24]  608 	movx	@dptr,a
                                    609 ;	/opt/contiki/core/lib/mmem.c:139: list_remove(mmemlist, m);
      0002A1 E5 81            [12]  610 	mov	a,sp
      0002A3 24 F3            [12]  611 	add	a,#0xf3
      0002A5 F8               [12]  612 	mov	r0,a
      0002A6 86 05            [24]  613 	mov	ar5,@r0
      0002A8 08               [12]  614 	inc	r0
      0002A9 86 06            [24]  615 	mov	ar6,@r0
      0002AB 08               [12]  616 	inc	r0
      0002AC 86 07            [24]  617 	mov	ar7,@r0
      0002AE 90r00r03         [24]  618 	mov	dptr,#_mmemlist
      0002B1 E0               [24]  619 	movx	a,@dptr
      0002B2 FA               [12]  620 	mov	r2,a
      0002B3 A3               [24]  621 	inc	dptr
      0002B4 E0               [24]  622 	movx	a,@dptr
      0002B5 FB               [12]  623 	mov	r3,a
      0002B6 A3               [24]  624 	inc	dptr
      0002B7 E0               [24]  625 	movx	a,@dptr
      0002B8 FC               [12]  626 	mov	r4,a
      0002B9 C0 05            [24]  627 	push	ar5
      0002BB C0 06            [24]  628 	push	ar6
      0002BD C0 07            [24]  629 	push	ar7
      0002BF 8A 82            [24]  630 	mov	dpl,r2
      0002C1 8B 83            [24]  631 	mov	dph,r3
      0002C3 8C F0            [24]  632 	mov	b,r4
      0002C5 12r00r00         [24]  633 	lcall	_list_remove
      0002C8 15 81            [12]  634 	dec	sp
      0002CA 15 81            [12]  635 	dec	sp
      0002CC 15 81            [12]  636 	dec	sp
      0002CE E5 81            [12]  637 	mov	a,sp
      0002D0 24 F2            [12]  638 	add	a,#0xF2
      0002D2 F5 81            [12]  639 	mov	sp,a
      0002D4 22               [24]  640 	ret
                                    641 ;------------------------------------------------------------
                                    642 ;Allocation info for local variables in function 'mmem_init'
                                    643 ;------------------------------------------------------------
                                    644 ;inited                    Allocated with name '_mmem_init_inited_1_44'
                                    645 ;------------------------------------------------------------
                                    646 ;	/opt/contiki/core/lib/mmem.c:152: mmem_init(void)
                                    647 ;	-----------------------------------------
                                    648 ;	 function mmem_init
                                    649 ;	-----------------------------------------
      0002D5                        650 _mmem_init:
                                    651 ;	/opt/contiki/core/lib/mmem.c:155: if(inited) {
      0002D5 90r10r02         [24]  652 	mov	dptr,#_mmem_init_inited_1_44
      0002D8 E0               [24]  653 	movx	a,@dptr
      0002D9 F5 F0            [12]  654 	mov	b,a
      0002DB A3               [24]  655 	inc	dptr
      0002DC E0               [24]  656 	movx	a,@dptr
      0002DD 45 F0            [12]  657 	orl	a,b
      0002DF 60 01            [24]  658 	jz	00102$
                                    659 ;	/opt/contiki/core/lib/mmem.c:156: return;
      0002E1 22               [24]  660 	ret
      0002E2                        661 00102$:
                                    662 ;	/opt/contiki/core/lib/mmem.c:158: list_init(mmemlist);
      0002E2 90r00r03         [24]  663 	mov	dptr,#_mmemlist
      0002E5 E0               [24]  664 	movx	a,@dptr
      0002E6 FD               [12]  665 	mov	r5,a
      0002E7 A3               [24]  666 	inc	dptr
      0002E8 E0               [24]  667 	movx	a,@dptr
      0002E9 FE               [12]  668 	mov	r6,a
      0002EA A3               [24]  669 	inc	dptr
      0002EB E0               [24]  670 	movx	a,@dptr
      0002EC FF               [12]  671 	mov	r7,a
      0002ED 8D 82            [24]  672 	mov	dpl,r5
      0002EF 8E 83            [24]  673 	mov	dph,r6
      0002F1 8F F0            [24]  674 	mov	b,r7
      0002F3 12r00r00         [24]  675 	lcall	_list_init
                                    676 ;	/opt/contiki/core/lib/mmem.c:159: avail_memory = MMEM_SIZE;
      0002F6 90r00r00         [24]  677 	mov	dptr,#_avail_memory
      0002F9 E4               [12]  678 	clr	a
      0002FA F0               [24]  679 	movx	@dptr,a
      0002FB 74 10            [12]  680 	mov	a,#0x10
      0002FD A3               [24]  681 	inc	dptr
      0002FE F0               [24]  682 	movx	@dptr,a
                                    683 ;	/opt/contiki/core/lib/mmem.c:160: inited = 1;
      0002FF 90r10r02         [24]  684 	mov	dptr,#_mmem_init_inited_1_44
      000302 C4               [12]  685 	swap	a
      000303 F0               [24]  686 	movx	@dptr,a
      000304 E4               [12]  687 	clr	a
      000305 A3               [24]  688 	inc	dptr
      000306 F0               [24]  689 	movx	@dptr,a
      000307 22               [24]  690 	ret
                                    691 	.area CSEG    (CODE)
                                    692 	.area CONST   (CODE)
                                    693 	.area XINIT   (CODE)
      000000                        694 __xinit__mmemlist_list:
                                    695 ; generic printIvalPtr
      000000 00 00 00               696 	.byte #0x00,#0x00,#0x00
      000003                        697 __xinit__mmemlist:
      000003r00s00 00               698 	.byte _mmemlist_list, (_mmemlist_list >> 8),#0x00
                                    699 	.area CABS    (ABS,CODE)
